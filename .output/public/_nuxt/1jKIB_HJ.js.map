{"version":3,"file":"1jKIB_HJ.js","sources":["../../../../components/Modal.vue"],"sourcesContent":["<script lang=\"ts\" setup>\n  import { debounce } from '~/lib/helper/debounce'\n\n  type ModalSize = 'sm' | 'md' | 'lg' | 'xl'\n\n  interface ModalProps {\n    size?: ModalSize\n  }\n\n  const emit = defineEmits(['modal:close'])\n  const props = withDefaults(defineProps<ModalProps>(), {\n    size: 'md'\n  })\n\n  const modal = ref()\n  const isActive = defineModel('show', {\n    required: true,\n    default: false\n  })\n\n  const closeModal = () => {\n    isActive.value = false\n    emit('modal:close')\n  }\n\n  const clickOnOutside = (event: Event) => debounce(() => {\n    if (isActive.value) {\n\n      if (!modal.value.contains(event.target)) {\n        event.preventDefault()\n        closeModal()\n      }\n    }\n  })\n\n  watch(isActive, () => {\n    if (isActive.value)\n      setTimeout(() => {\n        document.addEventListener('click', clickOnOutside)\n      }, 500)\n    else\n      document.removeEventListener('click', clickOnOutside)\n  })\n\n</script>\n\n<template>\n  <Teleport to=\"body\">\n    <section :class=\"{ 'modal': true, ['modal--' + size]: true, 'modal--active': isActive }\">\n      <div class=\"modal__content\" ref=\"modal\">\n        <a href=\"#\" class=\"modal__close\" @click.prevent=\"closeModal\"><span class=\"icon-add\"></span></a>\n        <slot />\n      </div>\n    </section>\n  </Teleport>\n</template>\n"],"names":["emit","__emit","modal","ref","isActive","_useModel","__props","closeModal","clickOnOutside","event","debounce","watch"],"mappings":"4SASE,MAAMA,EAAOC,EAKPC,EAAQC,IACRC,EAAWC,EAAWC,EAAC,MAG5B,EAEKC,EAAa,IAAM,CACvBH,EAAS,MAAQ,GACjBJ,EAAK,aAAa,CAAA,EAGdQ,EAAkBC,GAAiBC,EAAS,IAAM,CAClDN,EAAS,QAENF,EAAM,MAAM,SAASO,EAAM,MAAM,IACpCA,EAAM,eAAe,EACVF,KAEf,CACD,EAED,OAAAI,EAAMP,EAAU,IAAM,CAChBA,EAAS,MACX,WAAW,IAAM,CACN,SAAA,iBAAiB,QAASI,CAAc,GAChD,GAAG,EAEG,SAAA,oBAAoB,QAASA,CAAc,CAAA,CACvD"}