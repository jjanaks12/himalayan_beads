import{m as u,r,ag as c}from"./DYYBa1ra.js";const h=u("cart",()=>{const o=r([]),i=r(!1);return{list:o,isLoading:i,addToCart:({prices:e,...s})=>{o.value.push({product:{...s,prices:e,rate:e[e.length-1].price},quantity:1})},removeFromCart:e=>{const s=o.value.find(a=>{var n;return((n=a==null?void 0:a.product)==null?void 0:n.id)===e}),t=o.value.indexOf(s);t>=0&&o.value.splice(t,1)},isInCart:e=>o.value.find(t=>{var a;return((a=t==null?void 0:t.product)==null?void 0:a.id)===e})!=null,checkout:async()=>{i.value=!0,await $fetch("/api/cart/checkout",{method:"POST",body:o.value}).finally(()=>{i.value=!1})}}},{persist:[{storage:c.localStorage,pick:["list"]}]});export{h as u};
//# sourceMappingURL=D7GgLMdG.js.map
