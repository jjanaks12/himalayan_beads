{"version":3,"file":"Cv0NVZQA.js","sources":["../../../../store/permission.ts","../../../../pages/dashboard/settings/permission.vue"],"sourcesContent":["import type { Permission } from '@prisma/client'\nimport { defineStore } from 'pinia'\n\nexport const usePermissionStore = defineStore('permission', () => {\n    const permissionList = ref<Permission[]>([])\n\n    const fetchUser = () => {\n        $fetch('/api/permission', {\n            method: 'GET'\n        })\n            .then((response: any) => {\n                if (response.status == 'success')\n                    permissionList.value = response.data\n            })\n    }\n\n    return { permissionList, fetchUser }\n})","<script setup lang=\"ts\">\n  import { formatDate } from '~/lib/filter'\n  import { usePermissionStore } from '~/store/permission'\n\n  useHead({\n    title: 'Permissions :: Himalayan Beads'\n  })\n\n  definePageMeta({\n    layout: 'admin',\n    middleware: 'auth'\n  })\n\n  const { permissionList } = storeToRefs(usePermissionStore())\n  const { fetchUser } = usePermissionStore()\n  const showForm = ref(false)\n\n  onMounted(() => {\n    fetchUser()\n  })\n</script>\n\n<template>\n\n  <section class=\"datatable__section\">\n    <header class=\"datatable__header\">\n      <div class=\"datatable__header__holder\">\n        <h1>Permissions</h1>\n      </div>\n      <div class=\"datatable__header__action\">\n        <a class=\"btn btn__primary\" href=\"#\" @click.prevent=\"showForm = true\">\n          <span class=\"prepend-icon icon-add\"></span>\n          Add Permission\n        </a>\n      </div>\n    </header>\n    <div class=\"datatable__body\">\n      <table>\n        <thead>\n          <tr>\n            <th></th>\n            <th class=\"text--left\">Name</th>\n            <th>Created at</th>\n            <th class=\"text--right\">Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(permission, index) in permissionList\">\n            <td class=\"sn\">{{ index + 1 }}</td>\n            <td>{{ permission.name }}</td>\n            <td>{{ formatDate(permission.createdAt) }}</td>\n            <td class=\"text--right\"></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </section>\n</template>"],"names":["usePermissionStore","defineStore","permissionList","ref","response","useHead","storeToRefs","fetchUser","showForm","onMounted"],"mappings":"4LAGa,MAAAA,EAAqBC,EAAY,aAAc,IAAM,CACxD,MAAAC,EAAiBC,EAAkB,CAAA,CAAE,EAYpC,MAAA,CAAE,eAAAD,EAAgB,UAVP,IAAM,CACpB,OAAO,kBAAmB,CACtB,OAAQ,KAAA,CACX,EACI,KAAME,GAAkB,CACjBA,EAAS,QAAU,YACnBF,EAAe,MAAQE,EAAS,KAAA,CACvC,CAAA,EAIb,CAAC,kLCbSC,EAAA,CACN,MAAO,gCAAA,CACR,EAOD,KAAM,CAAE,eAAAH,CAAmB,EAAAI,EAAYN,EAAoB,CAAA,EACrD,CAAE,UAAAO,GAAcP,IAChBQ,EAAWL,EAAI,EAAK,EAE1B,OAAAM,EAAU,IAAM,CACJF,GAAA,CACX"}