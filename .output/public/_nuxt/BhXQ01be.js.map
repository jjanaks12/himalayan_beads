{"version":3,"file":"BhXQ01be.js","sources":["../../../../store/order.ts","../../../../pages/dashboard/myOrder.vue"],"sourcesContent":["import type { Order } from '@prisma/client'\nimport { defineStore } from 'pinia'\nimport type { OrderWithShippingAddress } from '~/himalayan_beads'\n\nexport const useOrderStore = defineStore('order', () => {\n  const list = ref<OrderWithShippingAddress[]>([])\n\n  const fetch = async () => {\n    const orders = await $fetch<OrderWithShippingAddress[]>('/api/order')\n    list.value = orders\n  }\n\n  return { list, fetch }\n})\n","<script lang=\"ts\" setup>\n  import { formatDate } from '~/lib/filter'\n  import { useOrderStore } from '~/store/order'\n\n  definePageMeta({\n    layout: 'admin'\n  })\n\n  useHead({\n    title: 'My Order :: Himalayan Beads'\n  })\n\n  const { list } = storeToRefs(useOrderStore())\n  const { fetch } = useOrderStore()\n\n  onMounted(async () => {\n    await fetch()\n  })\n</script>\n\n<template>\n  <section class=\"datatable__section\">\n    <header class=\"datatable__header\">\n      <div class=\"datatable__header__holder\">\n        <h1>Order</h1>\n      </div>\n      <div class=\"datatable__header__action\">\n      </div>\n    </header>\n    <div class=\"datatable__body\">\n      <table>\n        <thead>\n          <tr>\n            <th></th>\n            <th class=\"text--left\">Order</th>\n            <th>Ordered at</th>\n            <th class=\"text--right\">Status</th>\n            <!-- <th class=\"text--right\">Action</th> -->\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(order, index) in list\">\n            <td>{{ index + 1 }}</td>\n            <td>\n              <address>\n                <strong>{{ order.shippingAddress.address }}</strong>\n                <em class=\"d-block\">\n                  {{ order.shippingAddress.street }},\n                  {{ order.shippingAddress.city }},\n                  {{ order.shippingAddress.zipCode }},\n                  {{ order.shippingAddress.country.name }}\n                </em>\n              </address>\n            </td>\n            <td>{{ formatDate(order.createdAt) }}</td>\n            <td class=\"text--right\">\n              <span class=\"badge badge--info\">{{ order.status }}</span>\n            </td>\n            <!-- <td class=\"text--right\">\n              <Button color=\"danger\" permission=\"delete_order\">Cancel</Button>\n            </td> -->\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </section>\n</template>\n"],"names":["useOrderStore","defineStore","list","ref","orders","useHead","storeToRefs","fetch","onMounted"],"mappings":"mLAIa,MAAAA,EAAgBC,EAAY,QAAS,IAAM,CAChD,MAAAC,EAAOC,EAAgC,CAAA,CAAE,EAOxC,MAAA,CAAE,KAAAD,EAAM,MALD,SAAY,CAClB,MAAAE,EAAS,MAAM,OAAmC,YAAY,EACpEF,EAAK,MAAQE,CAAA,EAIjB,CAAC,sKCLSC,EAAA,CACN,MAAO,6BAAA,CACR,EAED,KAAM,CAAE,KAAAH,CAAS,EAAAI,EAAYN,EAAe,CAAA,EACtC,CAAE,MAAAO,GAAUP,IAElB,OAAAQ,EAAU,SAAY,CACpB,MAAMD,EAAM,CAAA,CACb"}