import{_ as x}from"./BIFzPT6V.js";import{_ as C}from"./BQ5IGA6n.js";import{d as y}from"./CfwLjDUh.js";import{e as g,f as B,r as i,q as c,p as M,o as r,c as p,a as l,h as d,B as m,b as _,d as N,z as R}from"./DYYBa1ra.js";const T={class:"content__block"},$={class:"content__block__title"},w={key:0,class:"loading"},D={key:1,class:"text--success"},q=g({__name:"productDescription",props:{product:{}},emits:["update"],setup(f,{emit:v}){const o=f,h=v,b=B(),e=i(""),a=i(!1),s=i(!1);return c(e,async u=>{var n;u!==((n=o.product)==null?void 0:n.description)&&(a.value=!0,await $fetch(`/api/product/${b.params.id}/update_description`,{method:"PUT",body:{description:e.value}}).then(()=>{h("update"),s.value=!0}).finally(()=>{a.value=!1}))}),c(()=>o.product,()=>{o.product&&(e.value=o.product.description||"")}),c(s,()=>{s.value&&y(()=>{s.value=!1},2e3)}),M(()=>{o.product&&(e.value=o.product.description||"")}),(u,t)=>{const n=x,k=C;return r(),p("div",T,[l("div",$,[t[2]||(t[2]=l("h2",null,"Product description",-1)),d(a)?(r(),p("span",w)):m("",!0),d(s)?(r(),p("span",D,[_(n,{preserveAspectRatio:"xMidYMid meet",icon:"mdiContentSaveCheck"}),t[1]||(t[1]=N(" saved "))])):m("",!0)]),_(k,{modelValue:d(e),"onUpdate:modelValue":t[0]||(t[0]=V=>R(e)?e.value=V:null),disabled:d(a)},null,8,["modelValue","disabled"])])}}});export{q as _};
//# sourceMappingURL=9wfqB8ne.js.map
