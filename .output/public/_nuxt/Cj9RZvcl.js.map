{"version":3,"file":"Cj9RZvcl.js","sources":["../../../../node_modules/nuxt-swiper/dist/runtime/composables/useSwiper.client.js","../../../../pages/product/[id].vue"],"sourcesContent":["import { computed, nextTick, onMounted, watch } from \"vue\";\nexport function useSwiper(swiperContainerRef, options) {\n  const swiper = computed(() => swiperContainerRef?.value?.swiper ?? null);\n  const next = (...params) => {\n    if (!swiper.value)\n      return;\n    if (params.length === 0)\n      swiper.value.slideNext();\n    else\n      swiper.value.slideNext(...params);\n  };\n  const to = (...params) => {\n    if (!swiper.value)\n      return;\n    swiper.value.slideTo(...params);\n  };\n  const reset = (...params) => {\n    if (!swiper.value)\n      return;\n    if (params.length === 0)\n      swiper.value.slideReset();\n    else\n      swiper.value.slideReset(...params);\n  };\n  const prev = (...params) => {\n    if (!swiper.value)\n      return;\n    if (params.length === 0)\n      swiper.value.slidePrev();\n    else\n      swiper.value.slidePrev(...params);\n  };\n  const checkSwiperRef = () => {\n    const isSwiperContainer = swiperContainerRef.value?.nodeName === \"SWIPER-CONTAINER\";\n    if (!isSwiperContainer && swiper.value !== null && !options) {\n      console.warn(\n        '\"useSwiper()\" requires a ref and is tied to the %c`<swiper-container ref=\"swiperContainerRef\"></swiper-container>` element.',\n        \"font-weight: bold;\"\n      );\n    }\n  };\n  const initialize = () => {\n    if (swiperContainerRef.value && options !== void 0) {\n      Object.assign(swiperContainerRef.value, options);\n      swiperContainerRef.value?.initialize();\n    }\n  };\n  watch(swiper, () => checkSwiperRef());\n  onMounted(() => nextTick(() => initialize()));\n  return {\n    instance: swiper,\n    next,\n    prev,\n    to,\n    reset\n  };\n}\n","<script lang=\"ts\" setup>\n  import { useCartStore } from '~/store/cart'\n\n  const route = useRoute()\n  const product: any = await $fetch(`/api/product/${route.params.productId}`, {\n    method: 'GET'\n  })\n\n  useHead({\n    title: product?.data?.name + ' - Product :: Himalayan Beads'\n  })\n\n  definePageMeta({\n    path: '/product/:productId'\n  })\n\n  const sliderRef = ref(null)\n  useSwiper(sliderRef)\n  const { addToCart, isInCart } = useCartStore()\n\n  const currentPrice = computed(() => {\n    let price\n\n    if (product?.data?.prices.length > 0) {\n      const pricedProduct = product?.data?.prices[product?.data?.prices.length - 1]\n      price = pricedProduct.price.amount\n    }\n    return price\n  })\n\n</script>\n\n<template>\n  <main id=\"main\">\n    <div class=\"container\">\n      <div class=\"product__section\">\n        <div class=\"container container--lg\">\n          <header class=\"product__section__header\">\n            <h1>{{ product?.data?.name }}</h1>\n          </header>\n          <div class=\"product__body\">\n            <figure class=\"product__image\">\n              <ClientOnly>\n                <swiper-container ref=\"sliderRef\">\n                  <swiper-slide v-for=\"(image, index) in product?.data?.images\" :key=\"index\">\n                    <img :src=\"image.images.url\" :alt=\"product?.data?.name\">\n                  </swiper-slide>\n                </swiper-container>\n              </ClientOnly>\n            </figure>\n            <div class=\"product__description\">\n              <em class=\"product__category\">{{ product?.data?.category.name }}</em>\n              <div class=\"text__holder\" v-html=\"product?.data?.description\" />\n              <template v-if=\"currentPrice\">\n                <em class=\"product__price\">$ {{ currentPrice }}</em>\n                <div class=\"product__item__action\">\n                  <a class=\"btn btn__primary\" href=\"#\" @click.prevent=\"addToCart(product?.data)\"\n                    v-if=\"!isInCart(product?.data?.id)\">\n                    <span class=\"icon-add\"></span>\n                    Add to cart\n                  </a>\n                </div>\n              </template>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>"],"names":["useSwiper","swiperContainerRef","options","swiper","computed","_a","next","params","to","reset","prev","checkSwiperRef","initialize","watch","onMounted","nextTick","route","useRoute","product","__temp","__restore","_withAsyncContext","useHead","sliderRef","ref","addToCart","isInCart","useCartStore","currentPrice","price","_c","_b"],"mappings":"+OACO,SAASA,EAAUC,EAAoBC,EAAS,CACrD,MAAMC,EAASC,EAAS,IAAM,OAAA,QAAAC,EAAAJ,GAAA,YAAAA,EAAoB,QAApB,YAAAI,EAA2B,SAAU,KAAI,EACjEC,EAAO,IAAIC,IAAW,CACrBJ,EAAO,QAERI,EAAO,SAAW,EACpBJ,EAAO,MAAM,YAEbA,EAAO,MAAM,UAAU,GAAGI,CAAM,EACtC,EACQC,EAAK,IAAID,IAAW,CACnBJ,EAAO,OAEZA,EAAO,MAAM,QAAQ,GAAGI,CAAM,CAClC,EACQE,EAAQ,IAAIF,IAAW,CACtBJ,EAAO,QAERI,EAAO,SAAW,EACpBJ,EAAO,MAAM,aAEbA,EAAO,MAAM,WAAW,GAAGI,CAAM,EACvC,EACQG,EAAO,IAAIH,IAAW,CACrBJ,EAAO,QAERI,EAAO,SAAW,EACpBJ,EAAO,MAAM,YAEbA,EAAO,MAAM,UAAU,GAAGI,CAAM,EACtC,EACQI,EAAiB,IAAM,OAEvB,IADsBN,EAAAJ,EAAmB,QAAnB,YAAAI,EAA0B,YAAa,qBACvCF,EAAO,QAAU,MAAQ,CAACD,GAClD,QAAQ,KACN,8HACA,oBACR,CAEA,EACQU,EAAa,IAAM,OACnBX,EAAmB,OAASC,IAAY,SAC1C,OAAO,OAAOD,EAAmB,MAAOC,CAAO,GAC/CG,EAAAJ,EAAmB,QAAnB,MAAAI,EAA0B,aAEhC,EACE,OAAAQ,EAAMV,EAAQ,IAAMQ,EAAc,CAAE,EACpCG,EAAU,IAAMC,EAAS,IAAMH,EAAU,CAAE,CAAC,EACrC,CACL,SAAUT,EACV,KAAAG,EACA,KAAAI,EACA,GAAAF,EACA,MAAAC,CACJ,CACA,6ZCrDE,MAAMO,EAAQC,IACRC,GAAqB,CAAAC,EAAAC,CAAA,EAAAC,EAAA,IAAA,OAAO,gBAAgBL,EAAM,OAAO,SAAS,GAAI,CAC1E,OAAQ,KAAA,CACT,CAAA,mBAEOM,EAAA,CACN,QAAOjB,EAAAa,GAAA,YAAAA,EAAS,OAAT,YAAAb,EAAe,MAAO,+BAAA,CAC9B,EAMK,MAAAkB,EAAYC,EAAI,IAAI,EAC1BxB,EAAUuB,CAAS,EACnB,KAAM,CAAE,UAAAE,EAAW,SAAAC,CAAS,EAAIC,EAAa,EAEvCC,EAAexB,EAAS,IAAM,WAC9B,IAAAyB,EAEJ,QAAIxB,EAAAa,GAAA,YAAAA,EAAS,OAAT,YAAAb,EAAe,OAAO,QAAS,IAEjCwB,IADsBC,EAAAZ,GAAA,YAAAA,EAAS,OAAT,YAAAY,EAAe,SAAOC,EAAAb,GAAA,YAAAA,EAAS,OAAT,YAAAa,EAAe,OAAO,QAAS,IACrD,MAAM,QAEvBF,CAAA,CACR","x_google_ignoreList":[0]}