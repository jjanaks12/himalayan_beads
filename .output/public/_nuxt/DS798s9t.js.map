{"version":3,"file":"DS798s9t.js","sources":["../../../../lib/adminMenu.ts","../../../../layouts/admin/sidebar.vue"],"sourcesContent":["import type { Menu } from \"~/himalayan_beads\"\n\nexport const menus: Menu[] = [{\n    // id: 1,\n    title: 'Dashboard',\n    name: 'dashboard',\n    path: '/dashboard/',\n    icon: 'mdiViewDashboard',\n    permission: '*'\n}, {\n    title: 'Media',\n    name: 'dashboard-media',\n    icon: 'mdiCart',\n    permission: '*',\n    path: '/dashboard/media'\n}, {\n    title: 'Your Order',\n    name: 'dashboard-order',\n    icon: 'mdiCart',\n    permission: ['create_order', 'delete_order'],\n    path: '/dashboard/myOrder'\n}, {\n    // id: 2,\n    title: 'Product',\n    name: '',\n    path: '/dashboard/product/',\n    icon: 'mdiFileTree',\n    permission: '*',\n    sub_menu: [{\n        // id: 3,\n        title: 'List',\n        name: 'dashboard-product',\n        path: '/dashboard/product/',\n        icon: 'mdiFileTree',\n        permission: 'view_product',\n        // parent_id: 2,\n        sub_menu: [{\n            // id: 10,\n            title: 'List',\n            name: 'dashboard-product-id',\n            path: '/dashboard/product/:id',\n            icon: 'mdiFileTree',\n            permission: 'manage_product',\n            // parent_id: 3,\n        }]\n    }, {\n        // id: 4,\n        title: 'Category',\n        name: 'dashboard-category',\n        path: '/dashboard/category/',\n        icon: 'mdiShape',\n        permission: 'manage_category',\n        // parent_id: 2\n    }, {\n        // id: 4,\n        title: 'Orders',\n        name: 'dashboard-order',\n        path: '/dashboard/order/',\n        icon: 'mdiCart',\n        permission: ['view_order', 'update_order'],\n        // parent_id: 2\n    },]\n}, {\n    // id: 5,\n    name: 'dashboard-user',\n    title: 'Users',\n    path: '/dashboard/user/',\n    icon: 'mdiAccountGroup',\n    permission: 'manage_user'\n}, {\n    // id: 6,\n    title: 'Settings',\n    name: '',\n    path: '/dashboard/settings/',\n    icon: 'mdiCogOutline',\n    permission: '*',\n    sub_menu: [{\n        // id: 7,\n        title: 'Roles',\n        name: 'dashboard-settings-role',\n        path: '/dashboard/settings/role/',\n        icon: 'mdiAccountMultiple',\n        permission: 'manage_role',\n        // parent_id: 6\n    }, {\n        // id: 8,\n        title: 'Permissions',\n        name: 'dashboard-settings-permission',\n        path: '/dashboard/settings/permission/',\n        icon: 'mdiAccountLock',\n        permission: 'manage_permission',\n        // parent_id: 6\n    }]\n}, {\n    // id: 9,\n    title: 'Playground',\n    name: 'dashboard-playgroud',\n    path: '/dashboard/playground/',\n    icon: 'mdiPlayNetwork',\n    permission: '*',\n    role: 'Admin'\n}]","<script setup lang=\"ts\">\n    import type { Menu } from '~/himalayan_beads'\n    import { menus } from '~/lib/adminMenu'\n\n    const { can } = useAuthorization()\n    const { signOut } = useAuth()\n    const route = useRoute()\n    const currentIndex = ref(0)\n\n    const newMenuList = computed(() => {\n        const newMenus: Menu[] = []\n        for (const menu of menus) {\n            let newMenu: Menu\n\n            if (menu.sub_menu && menu.sub_menu.length > 0) {\n                const newSubmenus: Menu[] = []\n                for (const submenu of menu.sub_menu) {\n                    if (can(submenu.permission, submenu.role))\n                        newSubmenus.push(submenu)\n                }\n                if (newSubmenus.length > 0)\n                    newMenus.push({ ...menu, sub_menu: newSubmenus })\n            } else\n                if (can(menu.permission, menu.role)) {\n                    newMenu = { ...menu }\n                    newMenus.push(newMenu)\n                }\n        }\n        return newMenus\n    })\n\n    const logout = () => {\n        signOut()\n    }\n</script>\n\n<template>\n    <aside id=\"admin-sidebar\">\n        <div class=\"sidebar__header\">\n            <Brand />\n            <NuxtLink class=\"menu__link\" to=\"/\">\n                <MdiIcon icon=\"mdiOpenInNew\" preserveAspectRatio=\"xMidYMid meet\" />\n                To site\n            </NuxtLink>\n        </div>\n        <ul class=\"admin__main__menu\">\n            <li v-for=\"(menu, index) in newMenuList\" :class=\"{\n                'has--children': menu.sub_menu && menu.sub_menu.length > 0,\n                'show-children': menu.sub_menu?.map(menu => menu.name).includes(route.name as string) || currentIndex == index,\n                'active': menu.name == route.name || route.path.includes(menu.path)\n            }\">\n                <nuxt-link :to=\"menu.path\" v-if=\"!(menu.sub_menu && menu.sub_menu.length > 0)\">\n                    <MdiIcon :icon=\"menu.icon\" preserveAspectRatio=\"xMidYMid meet\" />\n                    {{ menu.title }}\n                </nuxt-link>\n                <a href=\"#\" @click.prevent=\"currentIndex = index\" v-else>\n                    <MdiIcon :icon=\"menu.icon\" preserveAspectRatio=\"xMidYMid meet\" />\n                    {{ menu.title }}\n                </a>\n                <ul v-if=\"menu.sub_menu && menu.sub_menu?.length > 0\">\n                    <li v-for=\"submenu in menu.sub_menu\" :class=\"{ 'active': submenu.name == route.name }\">\n                        <nuxt-link :to=\"submenu.path\">\n                            <MdiIcon :icon=\"submenu.icon\" preserveAspectRatio=\"xMidYMid meet\" />\n                            {{ submenu.title }}\n                        </nuxt-link>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n        <a href=\"#\" class=\"menu__link\" @click=\"logout\">\n            <MdiIcon preserveAspectRatio=\"xMidYMid meet\" icon=\"mdiLogout\" />\n            Logout\n        </a>\n    </aside>\n</template>"],"names":["menus","can","useAuthorization","signOut","useAuth","route","useRoute","currentIndex","ref","newMenuList","computed","newMenus","menu","newMenu","newSubmenus","submenu","logout"],"mappings":"wSAEO,MAAMA,EAAgB,CAAC,CAE1B,MAAO,YACP,KAAM,YACN,KAAM,cACN,KAAM,mBACN,WAAY,GAChB,EAAG,CACC,MAAO,QACP,KAAM,kBACN,KAAM,UACN,WAAY,IACZ,KAAM,kBACV,EAAG,CACC,MAAO,aACP,KAAM,kBACN,KAAM,UACN,WAAY,CAAC,eAAgB,cAAc,EAC3C,KAAM,oBACV,EAAG,CAEC,MAAO,UACP,KAAM,GACN,KAAM,sBACN,KAAM,cACN,WAAY,IACZ,SAAU,CAAC,CAEP,MAAO,OACP,KAAM,oBACN,KAAM,sBACN,KAAM,cACN,WAAY,eAEZ,SAAU,CAAC,CAEP,MAAO,OACP,KAAM,uBACN,KAAM,yBACN,KAAM,cACN,WAAY,gBAAA,CAEf,CAAA,EACF,CAEC,MAAO,WACP,KAAM,qBACN,KAAM,uBACN,KAAM,WACN,WAAY,iBAAA,EAEb,CAEC,MAAO,SACP,KAAM,kBACN,KAAM,oBACN,KAAM,UACN,WAAY,CAAC,aAAc,cAAc,CAAA,CAE3C,CACN,EAAG,CAEC,KAAM,iBACN,MAAO,QACP,KAAM,mBACN,KAAM,kBACN,WAAY,aAChB,EAAG,CAEC,MAAO,WACP,KAAM,GACN,KAAM,uBACN,KAAM,gBACN,WAAY,IACZ,SAAU,CAAC,CAEP,MAAO,QACP,KAAM,0BACN,KAAM,4BACN,KAAM,qBACN,WAAY,aAAA,EAEb,CAEC,MAAO,cACP,KAAM,gCACN,KAAM,kCACN,KAAM,iBACN,WAAY,mBAAA,CAEf,CACL,EAAG,CAEC,MAAO,aACP,KAAM,sBACN,KAAM,yBACN,KAAM,iBACN,WAAY,IACZ,KAAM,OACV,CAAC,0ICjGS,KAAA,CAAE,IAAAC,GAAQC,IACV,CAAE,QAAAC,GAAYC,IACdC,EAAQC,IACRC,EAAeC,EAAI,CAAC,EAEpBC,EAAcC,EAAS,IAAM,CAC/B,MAAMC,EAAmB,CAAA,EACzB,UAAWC,KAAQZ,EAAO,CAClB,IAAAa,EAEJ,GAAID,EAAK,UAAYA,EAAK,SAAS,OAAS,EAAG,CAC3C,MAAME,EAAsB,CAAA,EACjB,UAAAC,KAAWH,EAAK,SACnBX,EAAIc,EAAQ,WAAYA,EAAQ,IAAI,GACpCD,EAAY,KAAKC,CAAO,EAE5BD,EAAY,OAAS,GACrBH,EAAS,KAAK,CAAE,GAAGC,EAAM,SAAUE,EAAa,CAAA,MAEhDb,EAAIW,EAAK,WAAYA,EAAK,IAAI,IACpBC,EAAA,CAAE,GAAGD,GACfD,EAAS,KAAKE,CAAO,EAEjC,CACO,OAAAF,CAAA,CACV,EAEKK,EAAS,IAAM,CACTb,GAAA"}