import{C as I,q as V,p as $,L as A,e as O,f as j,aj as q,r as z,o as u,c as _,a,t as x,h as n,b as F,w as D,F as E,l as G,i as R,d as W,B as H,al as J}from"./DYYBa1ra.js";import{u as K}from"./D7GgLMdG.js";import{u as Q}from"./DyWVWhbP.js";function U(i,o){const s=I(()=>{var t;return((t=i==null?void 0:i.value)==null?void 0:t.swiper)??null}),v=(...t)=>{s.value&&(t.length===0?s.value.slideNext():s.value.slideNext(...t))},e=(...t)=>{s.value&&s.value.slideTo(...t)},m=(...t)=>{s.value&&(t.length===0?s.value.slideReset():s.value.slideReset(...t))},f=(...t)=>{s.value&&(t.length===0?s.value.slidePrev():s.value.slidePrev(...t))},g=()=>{var c;!(((c=i.value)==null?void 0:c.nodeName)==="SWIPER-CONTAINER")&&s.value!==null&&!o&&console.warn('"useSwiper()" requires a ref and is tied to the %c`<swiper-container ref="swiperContainerRef"></swiper-container>` element.',"font-weight: bold;")},p=()=>{var t;i.value&&o!==void 0&&(Object.assign(i.value,o),(t=i.value)==null||t.initialize())};return V(s,()=>g()),$(()=>A(()=>p())),{instance:s,next:v,prev:f,to:e,reset:m}}const X={id:"main"},Y={class:"container"},Z={class:"product__section"},ee={class:"container container--lg"},te={class:"product__section__header"},se={class:"product__body"},ae={class:"product__image"},ne=["src","alt"],ie={class:"product__description"},oe={class:"product__category"},re=["innerHTML"],ce={class:"product__price"},le={class:"product__item__action"},me=O({__name:"[id]",async setup(i){var t;let o,s;const v=j(),e=([o,s]=q(()=>$fetch(`/api/product/${v.params.productId}`,{method:"GET"})),o=await o,s(),o);Q({title:((t=e==null?void 0:e.data)==null?void 0:t.name)+" - Product :: Himalayan Beads"});const m=z(null);U(m);const{addToCart:f,isInCart:g}=K(),p=I(()=>{var r,h,l;let c;return((r=e==null?void 0:e.data)==null?void 0:r.prices.length)>0&&(c=((l=e==null?void 0:e.data)==null?void 0:l.prices[((h=e==null?void 0:e.data)==null?void 0:h.prices.length)-1]).price.amount),c});return(c,r)=>{var l,y,k,N,S,T,P,b;const h=J;return u(),_("main",X,[a("div",Y,[a("div",Z,[a("div",ee,[a("header",te,[a("h1",null,x((y=(l=n(e))==null?void 0:l.data)==null?void 0:y.name),1)]),a("div",se,[a("figure",ae,[F(h,null,{default:D(()=>{var w,d;return[a("swiper-container",{ref_key:"sliderRef",ref:m},[(u(!0),_(E,null,G((d=(w=n(e))==null?void 0:w.data)==null?void 0:d.images,(L,M)=>{var C,B;return u(),_("swiper-slide",{key:M},[a("img",{src:L.images.url,alt:(B=(C=n(e))==null?void 0:C.data)==null?void 0:B.name},null,8,ne)])}),128))],512)]}),_:1})]),a("div",ie,[a("em",oe,x((N=(k=n(e))==null?void 0:k.data)==null?void 0:N.category.name),1),a("div",{class:"text__holder",innerHTML:(T=(S=n(e))==null?void 0:S.data)==null?void 0:T.description},null,8,re),n(p)?(u(),_(E,{key:0},[a("em",ce,"$ "+x(n(p)),1),a("div",le,[n(g)((b=(P=n(e))==null?void 0:P.data)==null?void 0:b.id)?H("",!0):(u(),_("a",{key:0,class:"btn btn__primary",href:"#",onClick:r[0]||(r[0]=R(w=>{var d;return n(f)((d=n(e))==null?void 0:d.data)},["prevent"]))},r[1]||(r[1]=[a("span",{class:"icon-add"},null,-1),W(" Add to cart ")])))])],64)):H("",!0)])])])])])])}}});export{me as default};
//# sourceMappingURL=Cj9RZvcl.js.map
