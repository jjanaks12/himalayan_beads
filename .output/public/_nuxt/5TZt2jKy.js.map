{"version":3,"file":"5TZt2jKy.js","sources":["../../../../pages/dashboard/product/_component/rate/form.vue"],"sourcesContent":["<script setup lang=\"ts\">\n    import { ErrorMessage, Field, Form } from 'vee-validate'\n    import { productPriceSchema } from '~/lib/schema/product.schema'\n\n    const route = useRoute()\n    const emit = defineEmits(['update'])\n\n    const isLoading = ref(false)\n\n    const product_id = computed(() => route.params.id)\n\n    const formSubmit = async (values: any) => {\n        isLoading.value = true\n\n        await $fetch(`/api/product/${route.params.id}/rate`, {\n            method: 'POST',\n            body: { ...values }\n        })\n            .then(() => {\n                emit('update')\n            })\n            .finally(() => {\n                isLoading.value = false\n            })\n    }\n</script>\n\n<template>\n    <Form :validation-schema=\"productPriceSchema\" @submit=\"formSubmit\" class=\"form\" v-slot=\"{ errors }\">\n        <Field type=\"hidden\" name=\"product_id\" :value=\"product_id\" />\n        <div class=\"form__group\">\n            <label for=\"prf__amount\">Amount</label>\n            <Field type=\"number\" name=\"amount\" id=\"prf__amount\" />\n            <ErrorMessage class=\"input--error\" name=\"amount\" />\n        </div>\n        <div class=\"text--right\">\n            <button type=\"submit\" :class=\"{ 'btn btn__primary': true, 'loading': isLoading }\">Save</button>\n        </div>\n    </Form>\n</template>"],"names":["route","useRoute","emit","__emit","isLoading","ref","product_id","computed","formSubmit","values"],"mappings":"iSAII,MAAMA,EAAQC,IACRC,EAAOC,EAEPC,EAAYC,EAAI,EAAK,EAErBC,EAAaC,EAAS,IAAMP,EAAM,OAAO,EAAE,EAE3CQ,EAAa,MAAOC,GAAgB,CACtCL,EAAU,MAAQ,GAElB,MAAM,OAAO,gBAAgBJ,EAAM,OAAO,EAAE,QAAS,CACjD,OAAQ,OACR,KAAM,CAAE,GAAGS,CAAO,CAAA,CACrB,EACI,KAAK,IAAM,CACRP,EAAK,QAAQ,CAAA,CAChB,EACA,QAAQ,IAAM,CACXE,EAAU,MAAQ,EAAA,CACrB,CAAA"}