{"version":3,"file":"Niu-L1hA.js","sources":["../../../../node_modules/nuxt-file-storage/dist/runtime/composables/useFileStorage.mjs"],"sourcesContent":["import { ref } from \"vue\";\nexport default function() {\n  const files = ref([]);\n  const serializeFile = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        files.value.push({\n          ...file,\n          name: file.name,\n          size: file.size,\n          type: file.type,\n          lastModified: file.lastModified,\n          content: e.target?.result\n        });\n        resolve();\n      };\n      reader.onerror = (error) => {\n        reject(error);\n      };\n      reader.readAsDataURL(file);\n    });\n  };\n  const handleFileInput = async (event) => {\n    files.value.splice(0);\n    const promises = [];\n    for (const file of event.target.files) {\n      promises.push(serializeFile(file));\n    }\n    await Promise.all(promises);\n  };\n  return {\n    files,\n    handleFileInput\n  };\n}\n"],"names":["useFileStorage","files","ref","serializeFile","file","resolve","reject","reader","e","_a","error","event","promises"],"mappings":"kCACe,SAAAA,GAAW,CACxB,MAAMC,EAAQC,EAAI,CAAA,CAAE,EACdC,EAAiBC,GACd,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,MAAMC,EAAS,IAAI,WACnBA,EAAO,OAAUC,GAAM,OACrBP,EAAM,MAAM,KAAK,CACf,GAAGG,EACH,KAAMA,EAAK,KACX,KAAMA,EAAK,KACX,KAAMA,EAAK,KACX,aAAcA,EAAK,aACnB,SAASK,EAAAD,EAAE,SAAF,YAAAC,EAAU,MAC7B,CAAS,EACDJ,GACR,EACME,EAAO,QAAWG,GAAU,CAC1BJ,EAAOI,CAAK,CACpB,EACMH,EAAO,cAAcH,CAAI,CAC/B,CAAK,EAUH,MAAO,CACL,MAAAH,EACA,gBAVsB,MAAOU,GAAU,CACvCV,EAAM,MAAM,OAAO,CAAC,EACpB,MAAMW,EAAW,CAAA,EACjB,UAAWR,KAAQO,EAAM,OAAO,MAC9BC,EAAS,KAAKT,EAAcC,CAAI,CAAC,EAEnC,MAAM,QAAQ,IAAIQ,CAAQ,CAC9B,CAIA,CACA","x_google_ignoreList":[0]}