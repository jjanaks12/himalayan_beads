{"version":3,"file":"oO9M5HYs.js","sources":["../../../../lib/adminMenu.ts","../../../../layouts/admin/sidebar.vue"],"sourcesContent":["import * as Icons from '@mdi/js'\n\ntype Menu = {\n    title: string\n    path: string\n    icon: keyof typeof Icons\n    permission: string | string[]\n    sub_menu?: Menu[]\n}\n\nexport const menus: Menu[] = [{\n    title: 'Dashboard',\n    path: '/dashboard',\n    icon: 'mdiViewDashboard',\n    permission: '*'\n}, {\n    title: 'Product',\n    path: '/dashboard/product',\n    icon: 'mdiFileTree',\n    permission: 'manage_product'\n}, {\n    title: 'Category',\n    path: '/dashboard/category',\n    icon: 'mdiShape',\n    permission: 'manage_category'\n}, {\n    title: 'Users',\n    path: '/dashboard/user',\n    icon: 'mdiAccountGroup',\n    permission: 'manage_user'\n}, {\n    title: 'Settings',\n    path: '/dashboard/settings',\n    icon: 'mdiCogOutline',\n    permission: '*',\n    sub_menu: [{\n        title: 'Roles',\n        path: '/dashboard/settings/role',\n        icon: 'mdiAccountMultiple',\n        permission: 'manage_roles'\n    }, {\n        title: 'Permissions',\n        path: '/dashboard/settings/permission',\n        icon: 'mdiAccountLock',\n        permission: 'manage_permission'\n    }]\n}, {\n    title: 'Playground',\n    path: '/dashboard/playground',\n    icon: 'mdiPlayNetwork',\n    permission: '*'\n}]","<script setup lang=\"ts\">\n    import { menus } from '~/lib/adminMenu'\n\n    const { signOut } = useAuth()\n    const route = useRoute()\n    const currentIndex = ref(0)\n\n    const logout = () => {\n        signOut()\n    }\n\n    const updateMenuIndex = () => {\n        let index = 0\n        const menu = menus.find((menu, i) => menu.path == route.path\n            ? i\n            : menu.sub_menu && menu.sub_menu.find(submenu => submenu.path == route.path)\n                ? i\n                : null)\n\n        if (menu)\n            index = menus.indexOf(menu)\n\n        currentIndex.value = index\n    }\n\n    watch(route, () => {\n        updateMenuIndex()\n    }, {\n        deep: true,\n        immediate: true\n    })\n\n    onMounted(() => {\n        updateMenuIndex()\n    })\n</script>\n\n<template>\n    <aside id=\"admin-sidebar\">\n        <div class=\"sidebar__header\">\n            <Brand />\n            <NuxtLink class=\"menu__link\" to=\"/\">\n                <MdiIcon icon=\"mdiOpenInNew\" />\n                To site\n            </NuxtLink>\n        </div>\n        <ul class=\"admin__main__menu\">\n            <li v-for=\"(menu, index) in menus\" :class=\"{\n                'has--children': menu.sub_menu && menu.sub_menu.length > 0,\n                'show-children': index == currentIndex\n            }\">\n                <nuxt-link :to=\"menu.path\" v-if=\"!(menu.sub_menu && menu.sub_menu.length > 0)\">\n                    <MdiIcon :icon=\"menu.icon\" />\n                    {{ menu.title }}\n                </nuxt-link>\n                <a href=\"#\" @click.prevent=\"currentIndex = index\" v-else>\n                    <MdiIcon :icon=\"menu.icon\" />\n                    {{ menu.title }}\n                </a>\n                <ul v-if=\"menu.sub_menu && menu.sub_menu?.length > 0\">\n                    <li v-for=\"submenu in menu.sub_menu\">\n                        <nuxt-link :to=\"submenu.path\">\n                            <MdiIcon :icon=\"submenu.icon\" />\n                            {{ submenu.title }}\n                        </nuxt-link>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n        <a href=\"#\" class=\"menu__link\" @click=\"logout\">\n            <MdiIcon icon=\"mdiLogout\" />\n            Logout\n        </a>\n    </aside>\n</template>"],"names":["menus","signOut","useAuth","route","useRoute","currentIndex","ref","logout","updateMenuIndex","index","menu","i","submenu","watch","onMounted"],"mappings":"wQAUO,MAAMA,EAAgB,CAAC,CAC1B,MAAO,YACP,KAAM,aACN,KAAM,mBACN,WAAY,GAChB,EAAG,CACC,MAAO,UACP,KAAM,qBACN,KAAM,cACN,WAAY,gBAChB,EAAG,CACC,MAAO,WACP,KAAM,sBACN,KAAM,WACN,WAAY,iBAChB,EAAG,CACC,MAAO,QACP,KAAM,kBACN,KAAM,kBACN,WAAY,aAChB,EAAG,CACC,MAAO,WACP,KAAM,sBACN,KAAM,gBACN,WAAY,IACZ,SAAU,CAAC,CACP,MAAO,QACP,KAAM,2BACN,KAAM,qBACN,WAAY,cAAA,EACb,CACC,MAAO,cACP,KAAM,iCACN,KAAM,iBACN,WAAY,mBAAA,CACf,CACL,EAAG,CACC,MAAO,aACP,KAAM,wBACN,KAAM,iBACN,WAAY,GAChB,CAAC,0IChDS,KAAA,CAAE,QAAAC,GAAYC,IACdC,EAAQC,IACRC,EAAeC,EAAI,CAAC,EAEpBC,EAAS,IAAM,CACTN,GAAA,EAGNO,EAAkB,IAAM,CAC1B,IAAIC,EAAQ,EACN,MAAAC,EAAOV,EAAM,KAAK,CAACU,EAAMC,IAAMD,EAAK,MAAQP,EAAM,MAElDO,EAAK,UAAYA,EAAK,SAAS,KAAgBE,GAAAA,EAAQ,MAAQT,EAAM,IAAI,EADzEQ,EAGI,IAAI,EAEVD,IACQD,EAAAT,EAAM,QAAQU,CAAI,GAE9BL,EAAa,MAAQI,CAAA,EAGzB,OAAAI,EAAMV,EAAO,IAAM,CACCK,GAAA,EACjB,CACC,KAAM,GACN,UAAW,EAAA,CACd,EAEDM,EAAU,IAAM,CACIN,GAAA,CACnB"}